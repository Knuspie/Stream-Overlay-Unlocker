// ==UserScript==
// @name         ZWR Stream Overlay Unlocker
// @namespace    https://github.com/Knuspie/Stream-Overlay-Unlocker
// @version      1.2
// @description  unlock hidden stream overlay options
// @author       Knuspie
// @match        https://zwr.gg/overlay/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=zwr.gg
// @grant        none
// ==/UserScript==

!function(){"use strict";var d,f,g,h,b,a;let i=document.getElementById("overlayTypeSelect"),e=["Staff","Admin","Owner"];for(let c=0;c<e.length;c++)i.insertAdjacentHTML("beforeend",`<option value=${e[c]}>${e[c]}</option>`);function j(){canvasCTX.clearRect(0,0,canvas.width,canvas.height);var f=document.getElementById("overlayUrl"),c="",g=overlayPosition.value,d=overlayType.value,a="",e="";if("Player"==d||"Staff"==d||"Admin"==d||"Owner"==d){var k,l,h=overlayBackgroundR.value,a="rgb("+h+","+overlayBackgroundG.value+","+overlayBackgroundB.value+")",i=overlayBarR.value;c="rgb("+i+","+overlayBarG.value+","+overlayBarB.value+")";var m,j=overlayTextR.value;e="rgb("+j+","+overlayTextG.value+","+overlayTextB.value+")"}if("Top Left"==g){canvasCTX.beginPath(),canvasCTX.moveTo(0,0),canvasCTX.lineTo(546,0),canvasCTX.lineTo(546,76),canvasCTX.lineTo(512,110),canvasCTX.lineTo(394,110),canvasCTX.lineTo(394,130),canvasCTX.lineTo(382,142),canvasCTX.lineTo(13,142),canvasCTX.lineTo(0,130),canvasCTX.lineTo(0,0),canvasCTX.closePath(),canvasCTX.fillStyle=a,canvasCTX.fill(),canvasCTX.beginPath(),canvasCTX.moveTo(9,5),canvasCTX.lineTo(138,5),canvasCTX.lineTo(138,10),canvasCTX.lineTo(9,10),canvasCTX.lineTo(9,5),canvasCTX.closePath(),canvasCTX.fillStyle=c,canvasCTX.fill(),canvasCTX.beginPath(),canvasCTX.moveTo(157,5),canvasCTX.lineTo(538,5),canvasCTX.lineTo(538,10),canvasCTX.lineTo(157,10),canvasCTX.lineTo(157,5),canvasCTX.closePath(),canvasCTX.fillStyle=c,canvasCTX.fill(),canvasCTX.font="20px Ikaros",canvasCTX.fillStyle="#dddbdf",canvasCTX.textAlign="center",canvasCTX.fillText(f.value,267,134),canvasCTX.font="20px Ikaros",canvasCTX.fillStyle="#dddbdf",canvasCTX.textAlign="left",canvasCTX.fillText(d,14,134),canvasCTX.drawImage(imgLogo,12,0,120,120);var a=overlayName.value,b=a.length;canvasCTX.fillStyle=e,canvasCTX.textAlign="center",b<=10?(canvasCTX.font="85px KillTheNoise",canvasCTX.fillText(a,347,85,360)):b<=15?(canvasCTX.font="70px KillTheNoise",canvasCTX.fillText(a,347,80,360)):b<=20?(canvasCTX.font="60px KillTheNoise",canvasCTX.fillText(a,347,75,360)):(canvasCTX.font="50px KillTheNoise",canvasCTX.fillText(a,347,70,360)),canvasCTX.drawImage(imgFlag,110,118,25,18)}else if("Top Right"==g){canvasCTX.beginPath(),canvasCTX.moveTo(0,0),canvasCTX.lineTo(546,0),canvasCTX.lineTo(546,130),canvasCTX.lineTo(534,142),canvasCTX.lineTo(165,142),canvasCTX.lineTo(153,130),canvasCTX.lineTo(153,110),canvasCTX.lineTo(35,110),canvasCTX.lineTo(0,76),canvasCTX.lineTo(0,0),canvasCTX.closePath(),canvasCTX.fillStyle=a,canvasCTX.fill(),canvasCTX.beginPath(),canvasCTX.moveTo(9,5),canvasCTX.lineTo(390,5),canvasCTX.lineTo(390,10),canvasCTX.lineTo(9,10),canvasCTX.lineTo(9,5),canvasCTX.closePath(),canvasCTX.fillStyle=c,canvasCTX.fill(),canvasCTX.beginPath(),canvasCTX.moveTo(409,5),canvasCTX.lineTo(538,5),canvasCTX.lineTo(538,10),canvasCTX.lineTo(409,10),canvasCTX.lineTo(409,5),canvasCTX.closePath(),canvasCTX.fillStyle=c,canvasCTX.fill(),canvasCTX.font="20px Ikaros",canvasCTX.fillStyle="#dddbdf",canvasCTX.textAlign="center",canvasCTX.fillText(f.value,280,134),canvasCTX.font="20px Ikaros",canvasCTX.fillStyle="#dddbdf",canvasCTX.textAlign="left",canvasCTX.fillText(d,407,134),canvasCTX.drawImage(imgLogo,414,0,120,120);var a=overlayName.value,b=a.length;canvasCTX.fillStyle=e,canvasCTX.textAlign="center",b<=10?(canvasCTX.font="85px KillTheNoise",canvasCTX.fillText(a,200,85,360)):b<=15?(canvasCTX.font="70px KillTheNoise",canvasCTX.fillText(a,200,80,360)):b<=20?(canvasCTX.font="60px KillTheNoise",canvasCTX.fillText(a,200,75,360)):(canvasCTX.font="50px KillTheNoise",canvasCTX.fillText(a,200,70,360)),canvasCTX.drawImage(imgFlag,503,118,25,18)}else if("Bottom Left"==g){canvasCTX.beginPath(),canvasCTX.moveTo(0,13),canvasCTX.lineTo(13,0),canvasCTX.lineTo(382,0),canvasCTX.lineTo(394,13),canvasCTX.lineTo(394,33),canvasCTX.lineTo(512,33),canvasCTX.lineTo(546,67),canvasCTX.lineTo(546,142),canvasCTX.lineTo(0,142),canvasCTX.lineTo(0,13),canvasCTX.closePath(),canvasCTX.fillStyle=a,canvasCTX.fill(),canvasCTX.beginPath(),canvasCTX.moveTo(9,37),canvasCTX.lineTo(138,37),canvasCTX.lineTo(138,42),canvasCTX.lineTo(9,42),canvasCTX.lineTo(9,37),canvasCTX.closePath(),canvasCTX.fillStyle=c,canvasCTX.fill(),canvasCTX.beginPath(),canvasCTX.moveTo(157,37),canvasCTX.lineTo(508,37),canvasCTX.lineTo(513,42),canvasCTX.lineTo(157,42),canvasCTX.lineTo(157,37),canvasCTX.closePath(),canvasCTX.fillStyle=c,canvasCTX.fill(),canvasCTX.font="20px Ikaros",canvasCTX.fillStyle="#dddbdf",canvasCTX.textAlign="center",canvasCTX.fillText(f.value,267,24),canvasCTX.font="20px Ikaros",canvasCTX.fillStyle="#dddbdf",canvasCTX.textAlign="left",canvasCTX.fillText(d,14,24),canvasCTX.drawImage(imgLogo,12,32,120,120);var a=overlayName.value,b=a.length;canvasCTX.fillStyle=e,canvasCTX.textAlign="center",b<=10?(canvasCTX.font="85px KillTheNoise",canvasCTX.fillText(a,347,117,360)):b<=15?(canvasCTX.font="70px KillTheNoise",canvasCTX.fillText(a,347,112,360)):b<=20?(canvasCTX.font="60px KillTheNoise",canvasCTX.fillText(a,347,107,360)):(canvasCTX.font="50px KillTheNoise",canvasCTX.fillText(a,347,102,360)),canvasCTX.drawImage(imgFlag,111,8,25,18)}else{canvasCTX.beginPath(),canvasCTX.moveTo(0,67),canvasCTX.lineTo(35,33),canvasCTX.lineTo(153,33),canvasCTX.lineTo(153,13),canvasCTX.lineTo(165,0),canvasCTX.lineTo(534,0),canvasCTX.lineTo(546,13),canvasCTX.lineTo(546,142),canvasCTX.lineTo(0,142),canvasCTX.lineTo(0,67),canvasCTX.closePath(),canvasCTX.fillStyle=a,canvasCTX.fill(),canvasCTX.beginPath(),canvasCTX.moveTo(409,37),canvasCTX.lineTo(538,37),canvasCTX.lineTo(538,42),canvasCTX.lineTo(409,42),canvasCTX.lineTo(409,37),canvasCTX.closePath(),canvasCTX.fillStyle=c,canvasCTX.fill(),canvasCTX.beginPath(),canvasCTX.moveTo(39,37),canvasCTX.lineTo(390,37),canvasCTX.lineTo(390,42),canvasCTX.lineTo(34,42),canvasCTX.lineTo(39,37),canvasCTX.closePath(),canvasCTX.fillStyle=c,canvasCTX.fill(),canvasCTX.font="20px Ikaros",canvasCTX.fillStyle="#dddbdf",canvasCTX.textAlign="center",canvasCTX.fillText(f.value,280,24),canvasCTX.font="20px Ikaros",canvasCTX.fillStyle="#dddbdf",canvasCTX.textAlign="left",canvasCTX.fillText(d,408,24),canvasCTX.drawImage(imgLogo,414,32,120,120);var a=overlayName.value,b=a.length;canvasCTX.fillStyle=e,canvasCTX.textAlign="center",b<=10?(canvasCTX.font="85px KillTheNoise",canvasCTX.fillText(a,204,117,360)):b<=15?(canvasCTX.font="70px KillTheNoise",canvasCTX.fillText(a,204,112,360)):b<=20?(canvasCTX.font="60px KillTheNoise",canvasCTX.fillText(a,204,107,360)):(canvasCTX.font="50px KillTheNoise",canvasCTX.fillText(a,204,102,360)),canvasCTX.drawImage(imgFlag,500,8,25,18)}ZRDownloadOverlay()}document.head.insertAdjacentHTML("beforeend","<style>#bar-picker {display: block!important} #colour-picker {display: block!important} #text-picker {display: block!important}</style>"),document.querySelectorAll("input[disabled]").forEach(a=>{a.removeAttribute("disabled")}),document.querySelector(".panel-row").insertAdjacentHTML("beforeend",'<div class="half"><div class="label">Url:</div><input type="text" value="zwr.gg" id="overlayUrl"></div>'),document.getElementById("overlayUrl").addEventListener("input",function(){j()}),i.addEventListener("change",function(){"Player"==i.value?(overlayBackgroundR.value=18,overlayBackgroundG.value=18,overlayBackgroundB.value=18,overlayBarR.value=171,overlayBarG.value=60,overlayBarB.value=66,overlayTextR.value=255,overlayTextG.value=255,overlayTextB.value=255):"Staff"==i.value?(overlayBackgroundR.value=18,overlayBackgroundG.value=18,overlayBackgroundB.value=18,overlayBarR.value=91,overlayBarG.value=49,overlayBarB.value=197,overlayTextR.value=197,overlayTextG.value=149,overlayTextB.value=49):("Admin"==i.value||"Owner"==i.value)&&(overlayBackgroundR.value=0,overlayBackgroundG.value=0,overlayBackgroundB.value=0,overlayBarR.value=0,overlayBarG.value=0,overlayBarB.value=0,overlayTextR.value=0,overlayTextG.value=0,overlayTextB.value=0)}),d=j,a=(b=document).createElement("script"),h&&a.addEventListener("load",h,!1),a.type="text/javascript",d&&(a.textContent=d),f&&(a.src=f),g&&(a.textContent="("+g.toString()+")()"),(b.getElementsByTagName("head")[0]||b.body||b.documentElement).appendChild(a)}()